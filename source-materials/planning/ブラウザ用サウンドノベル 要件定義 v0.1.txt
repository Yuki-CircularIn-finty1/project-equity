# ブラウザ用サウンドノベル 要件定義 v0.1

## 0. 前提
- 開発者: 1名
- 使用AI: Gemini 3.0, ChatGPT
- 章構成: 第1章のみ (約4000字)
- エンディング: 3種
- 分岐: 選択肢 2か所
- 対応環境: PCブラウザ (Chrome/Edge/Firefox 最新)

## 1. プレイヤー体験要件
- [UX-01] 1280x720 以上の画面でレイアウト崩れがないこと
- [UX-02] 左クリックのみでエンディングまで到達できること
- [UX-03] フォントサイズは 16px 以上、背景と文字色のコントラスト比 4.5:1 以上  ……

## 2. シナリオ／データ要件
- [DATA-01] シーンは JSON オブジェクトで表現し、id/text/backgroundId/characterId/choices を持つ
- [DATA-02] 全ての nextSceneId は同一ファイル内に存在すること
- [DATA-03] 第1章には type="ending" のシーンが3つ存在すること  ……

## 3. 技術／エラーハンドリング要件
- [TECH-01] npm run lint / typecheck / test / build が成功すること
- [TECH-02] シナリオロードエラー時は SystemMessage にエラーコードと簡単な説明を表示すること
- [TECH-03] 画像ロード失敗時はデフォルト背景にフォールバックすること  ……

## 4. プロセス／ガバナンス要件
- [PROC-01] AI生成JSONは _draft_* ファイルとして保存し、 validator 通過後に本番ファイルへ手動移動すること
- [PROC-02] main ブランチへのマージは CI パイプライン成功を前提とすること
- [PROC-03] 命名規則は scenario_spec.md に記載し、逸脱が見つかった場合は修正すること  ……
